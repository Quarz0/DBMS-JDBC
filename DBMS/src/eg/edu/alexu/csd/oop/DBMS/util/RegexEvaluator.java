package eg.edu.alexu.csd.oop.DBMS.util;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public final class RegexEvaluator {

    public static String[] evaluate(String text, String pattern) {
        Pattern r = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);
        Matcher m = r.matcher(text);

        if (m.find()) {
            String[] groups = new String[m.groupCount() + 1];
            for (int i = 0; i <= m.groupCount(); i++) {
                groups[i] = m.group(i);
            }
            return groups;
        } else {
            return null;
        }
    }

    public static int startIndex(String text, String pattern) {
        Pattern r = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);
        Matcher m = r.matcher(text);

        return m.find() ? m.start() : text.length();
    }

    private RegexEvaluator() {
    }

}
